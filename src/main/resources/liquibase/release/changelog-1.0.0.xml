<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext
           http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd
           http://www.liquibase.org/xml/ns/dbchangelog
           http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
    
    <changeSet id="1" author="jmchugh">
        <createTable tableName="users">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__users" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="email" type="nvarchar(255)">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="password" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="state" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="type" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="invalid_login_attempts" type="bigint"/>
            <column name="last_login_date" type="timestamp"/>
        </createTable>
    </changeSet>

    <changeSet id="2" author="jmchugh">
        <createTable tableName="email">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__email" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="template" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="to_address" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="body_context" type="nvarchar(MAX)"/>
            <column name="subject_context" type="nvarchar(MAX)"/>
            <column name="sent_date" type="timestamp"/>
        </createTable>
    </changeSet>

    <changeSet id="3" author="jmchugh">
        <createTable tableName="user_recovery_token">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__user_recovery_token" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="user_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="token" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="sent_date" type="timestamp">
                <constraints nullable="false"/>
            </column>
            <column name="expiration_date" type="timestamp">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseTableName="user_recovery_token" baseColumnNames="user_id" constraintName="user_recovery_token_user_id_users_id" referencedTableName="users" referencedColumnNames="id"/>
    </changeSet>

    <changeSet id="4" author="jmchugh">
        <createTable tableName="user_verification">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__user_verification" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="user_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="token" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="sent_date" type="timestamp">
                <constraints nullable="false"/>
            </column>
            <column name="verification_date" type="timestamp"/>
        </createTable>
        <addForeignKeyConstraint baseTableName="user_verification" baseColumnNames="user_id" constraintName="user_verification_user_id" referencedTableName="users" referencedColumnNames="id"/>
    </changeSet>

    <changeSet id="5" author="jmchugh">
        <createTable tableName="region">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__region" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="name" type="nvarchar(255)">
                <constraints unique="true" nullable="false" />
            </column>
            <column name="continent_code" type="nvarchar(255)"/>
            <column name="country_codes" type="nvarchar(255)"/>
            <column name="data_center_location" type="nvarchar(255)"/>
            <column name="status" type="varchar(255)"/>
        </createTable>
    </changeSet>

    <changeSet id="6" author="jmchugh">
        <createTable tableName="flavor">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__flavor" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="flavor_id" type="nvarchar(255)">
                <constraints unique="true" nullable="false" />
            </column>
            <column name="region_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="nvarchar(255)"/>
            <column name="type" type="nvarchar(255)"/>
            <column name="available" type="boolean"/>
            <column name="hourly" type="nvarchar(255)"/>
            <column name="monthly" type="nvarchar(255)"/>
            <column name="quota" type="int"/>
            <column name="os_type" type="nvarchar(255)"/>
            <column name="vcpus" type="int"/>
            <column name="ram" type="int"/>
            <column name="disk" type="int"/>
            <column name="inbound_bandwidth" type="int"/>
            <column name="outbound_bandwidth" type="int"/>
        </createTable>
        <addForeignKeyConstraint baseTableName="flavor" baseColumnNames="region_id" constraintName="flavor_region_id__region_id"  referencedTableName="region" referencedColumnNames="id"/>
    </changeSet>

    <changeSet id="7" author="jmchugh">
        <createTable tableName="image">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__image" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="image_id" type="nvarchar(255)">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="region_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="type" type="nvarchar(255)"/>
            <column name="name" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="image_created_date" type="datetime"/>
            <column name="flavor_type" type="nvarchar(255)"/>
            <column name="hourly" type="nvarchar(255)"/>
            <column name="monthly" type="nvarchar(255)"/>
            <column name="size" type="double"/>
            <column name="min_ram" type="int"/>
            <column name="min_disk" type="int"/>
            <column name="username" type="nvarchar(255)"/>
            <column name="status" type="nvarchar(255)"/>
            <column name="visibility" type="nvarchar(255)"/>
        </createTable>
        <addForeignKeyConstraint baseTableName="image" baseColumnNames="region_id" constraintName="image_region_id__region_id" referencedTableName="region" referencedColumnNames="id"/>
    </changeSet>

    <changeSet id="8" author="jmchugh">
        <createTable tableName="game">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__game" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="type" type="varchar(255)">
                <constraints unique="true" nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="9" author="jmchugh">
        <createTable tableName="project">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__project" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="name" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="state" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="game_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseTableName="project" baseColumnNames="game_id" constraintName="project_game_id__game_id" referencedTableName="game" referencedColumnNames="id"/>
    </changeSet>

    <changeSet id="10" author="jmchugh">
        <createTable tableName="project_membership">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__project_membership" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="project_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="role" type="varchar(255)"/>
        </createTable>
        <addForeignKeyConstraint baseTableName="project_membership" baseColumnNames="project_id" constraintName="project_membership_project_id__project_id" referencedTableName="project" referencedColumnNames="id"/>
        <addForeignKeyConstraint baseTableName="project_membership" baseColumnNames="user_id" constraintName="project_membership_user_id__users_id" referencedTableName="users" referencedColumnNames="id"/>
    </changeSet>

    <changeSet id="11" author="jmchugh">
        <createTable tableName="instance_group">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__instance_group" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="group_id" type="nvarchar(255)">
                <constraints unique="true" nullable="false"/>
            </column>
            <column name="name" type="nvarchar(255)"/>
            <column name="type" type="nvarchar(255)"/>
            <column name="project_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseTableName="instance_group" baseColumnNames="project_id" constraintName="instance_group_project_id__project_id" referencedTableName="project" referencedColumnNames="id"/>
    </changeSet>

    <changeSet id="12" author="jmchugh">
        <createTable tableName="credential">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__credential" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="ssh_key_id" type="nvarchar(255)">
                <constraints unique="true" nullable="false"/>
            </column>
            <column name="name" type="nvarchar(255)"/>
            <column name="public_key" type="nvarchar(MAX)"/>
            <column name="type" type="varchar(255)"/>
        </createTable>
    </changeSet>

    <changeSet id="13" author="jmchugh">
        <createTable tableName="instance">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__instance" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="flavor_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="image_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="instance_group_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="credential_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="instance_id" type="nvarchar(255)">
                <constraints unique="true" nullable="false"/>
            </column>
            <column name="name" type="nvarchar(255)"/>
            <column name="status" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="instance_created_date" type="datetime"/>
            <column name="ip4_address" type="nvarchar(255)"/>
            <column name="ip6_address" type="nvarchar(255)"/>
        </createTable>
        <addForeignKeyConstraint baseTableName="instance" baseColumnNames="flavor_id" constraintName="instance_flavor_id__flavor_id" referencedTableName="flavor" referencedColumnNames="id"/>
        <addForeignKeyConstraint baseTableName="instance" baseColumnNames="image_id" constraintName="instance_image_id__image_id" referencedTableName="image" referencedColumnNames="id"/>
        <addForeignKeyConstraint baseTableName="instance" baseColumnNames="instance_group_id" constraintName="instance_instance_group_id__instance_group_id" referencedTableName="instance_group" referencedColumnNames="id" />
        <addForeignKeyConstraint baseTableName="instance" baseColumnNames="credential_id" constraintName="instance_credential_id__credential_id" referencedTableName="credential" referencedColumnNames="id"/>
    </changeSet>

    <changeSet id="14" author="jmchugh">
        <createTable tableName="awx_organization">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__awx_organization" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="organization_id" type="bigint">
                <constraints unique="true" nullable="false"/>
            </column>
            <column name="name" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="nvarchar(255)"/>
        </createTable>
    </changeSet>
    
    <changeSet id="15" author="jmchugh">
        <createTable tableName="awx_credential">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__awx_credential" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="awx_organization_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="credential_id" type="bigint">
                <constraints unique="true" nullable="false" />
            </column>
            <column name="name" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="nvarchar(255)"/>
            <column name="private_key" type="nvarchar(MAX)">
                <constraints nullable="false"/>
            </column>
            <column name="passphrase" type="nvarchar(255)"/>
            <column name="type" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseTableName="awx_credential" baseColumnNames="awx_organization_id" constraintName="awx_credential_awx_organization_id__awx_organization_id" referencedTableName="awx_organization" referencedColumnNames="id"/>
    </changeSet>

    <changeSet id="16" author="jmchugh">
        <createTable tableName="awx_project">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__awx_project" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="project_id" type="bigint">
                <constraints unique="true" nullable="false"/>
            </column>
            <column name="name" type="nvarchar(255)">
                <constraints unique="true" nullable="false"/>
            </column>
            <column name="description" type="nvarchar(255)"/>
            <column name="scm_type" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="scm_url" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="scm_branch" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="awx_organization_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="awx_credential_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseTableName="awx_project" baseColumnNames="awx_organization_id" constraintName="awx_project_awx_organization_id__awx_organization_id" referencedTableName="awx_organization" referencedColumnNames="id"/>
        <addForeignKeyConstraint baseTableName="awx_project" baseColumnNames="awx_credential_id" constraintName="awx_project_awx_credential_id__awx_credential_id" referencedTableName="awx_credential" referencedColumnNames="id"/>
    </changeSet>

    <changeSet id="17" author="jmchugh">
        <createTable tableName="awx_playbook">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__awx_playbook" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="awx_project_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="nvarchar(255)">
                <constraints unique="true" nullable="false"/>
            </column>
            <column name="type" type="varchar(255)">
                <constraints unique="true" nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseTableName="awx_playbook" baseColumnNames="awx_project_id" constraintName="awx_playbook_awx_project_id__awx_project_id" referencedTableName="awx_project" referencedColumnNames="id"/>
    </changeSet>

    <changeSet id="18" author="jmchugh">
        <createTable tableName="awx_inventory">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__awx_inventory" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="awx_organization_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="inventory_id" type="bigint">
                <constraints unique="true" nullable="false"/>
            </column>
            <column name="name" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="nvarchar(255)"/>
        </createTable>
        <addForeignKeyConstraint baseTableName="awx_inventory" baseColumnNames="awx_organization_id" constraintName="awx_inventory_awx_organization_id__awx_organization_id" referencedTableName="awx_organization" referencedColumnNames="id"/>
    </changeSet>

    <changeSet id="19" author="jmchugh">
        <createTable tableName="awx_host">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__awx_host" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="awx_inventory_id" type="nvarchar(255)">
                <constraints nullable="false" />
            </column>
            <column name="instance_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="host_id" type="bigint">
                <constraints unique="true" nullable="false"/>
            </column>
            <column name="hostname" type="nvarchar(255)">
                <constraints unique="true" nullable="false"/>
            </column>
            <column name="description" type="nvarchar(255)"/>
            <column name="enabled" type="boolean">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseTableName="awx_host" baseColumnNames="awx_inventory_id" constraintName="awx_host_awx_inventory_id__awx_inventory_id" referencedTableName="awx_inventory" referencedColumnNames="id"/>
        <addForeignKeyConstraint baseTableName="awx_host" baseColumnNames="instance_id" constraintName="awx_host_instance_id__instance_id" referencedTableName="instance" referencedColumnNames="id"/>
    </changeSet>

    <changeSet id="20" author="jmchugh">
        <createTable tableName="awx_template">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__awx_template" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="awx_credential_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="awx_inventory_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="awx_playbook_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="template_id" type="bigint">
                <constraints unique="true" nullable="false"/>
            </column>
            <column name="name" type="nvarchar(255)">
                <constraints unique="true" nullable="false"/>
            </column>
            <column name="description" type="nvarchar(255)"/>
            <column name="job_type" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="verbosity" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseTableName="awx_template" baseColumnNames="awx_credential_id" constraintName="awx_template_awx_credential_id__awx_credential_id" referencedTableName="awx_credential" referencedColumnNames="id"/>
        <addForeignKeyConstraint baseTableName="awx_template" baseColumnNames="awx_inventory_id" constraintName="awx_template_awx_inventory_id__awx_inventory_id" referencedTableName="awx_inventory" referencedColumnNames="id"/>
        <addForeignKeyConstraint baseTableName="awx_template" baseColumnNames="awx_playbook_id" constraintName="awx_template_awx_playbook_id__awx_playbook_id" referencedTableName="awx_playbook" referencedColumnNames="id"/>
    </changeSet>

    <changeSet id="21" author="jmchugh">
        <createTable tableName="awx_notification">
            <column name="id" type="nvarchar(255)">
                <constraints primaryKey="true" primaryKeyName="PK__awx_notification" />
            </column>
            <column name="version" type="bigint"/>
            <column name="created_by" type="nvarchar(255)"/>
            <column name="created_date" type="timestamp"/>
            <column name="last_modified_by" type="nvarchar(255)"/>
            <column name="last_modified_date" type="timestamp"/>
            <column name="notification_id" type="bigint">
                <constraints unique="true" nullable="false"/>
            </column>
            <column name="awx_organization_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="nvarchar(255)">
                <constraints unique="true" nullable="false"/>
            </column>
            <column name="description" type="nvarchar(255)"/>
            <column name="notification_type" type="nvarchar(255)"/>
            <column name="webhook_callback_url" type="nvarchar(255)"/>
        </createTable>
        <addForeignKeyConstraint baseTableName="awx_notification" baseColumnNames="awx_organization_id" constraintName="awx_notification_awx_organization_id__awx_organization_id" referencedTableName="awx_organization" referencedColumnNames="id"/>
    </changeSet>

    <changeSet id="22" author="jmchugh">
        <createTable tableName="association_value_entry">
            <column name="id" type="bigint">
                <constraints primaryKey="true" nullable="false" primaryKeyName="PK__association_value_entry" />
            </column>
            <column name="association_key" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="association_value" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="saga_id" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="saga_type" type="nvarchar(255)"/>
        </createTable>
        <createTable tableName="saga_entry">
            <column name="saga_id" type="nvarchar(255)">
                <constraints primaryKey="true" nullable="false" primaryKeyName="PK__saga_entry"/>
            </column>
            <column name="revision" type="nvarchar(255)"/>
            <column name="saga_type" type="nvarchar(255)"/>
            <column name="serialized_saga" type="blob"/>
        </createTable>
        <createTable tableName="token_entry">
            <column name="processor_name" type="nvarchar(255)">
                <constraints primaryKey="true" nullable="false" primaryKeyName="PK__token_entry_processor_name"/>
            </column>
            <column name="segment" type="int">
                <constraints primaryKey="true" nullable="false" primaryKeyName="PK__token_entry_segment"/>
            </column>
            <column name="owner" type="nvarchar(255)"/>
            <column name="timestamp" type="nvarchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="token" type="blob"/>
            <column name="token_type" type="nvarchar(255)"/>
        </createTable>
    </changeSet>

</databaseChangeLog>